<!DOCTYPE HTML>
<html>

<head>
    <style>
        #div1,
        #div2 {
            float: left;
            width: 100px;
            height: 35px;
            margin: 10px;
            padding: 10px;
            border: 1px solid black;
        }
    </style>
    <script>
        var p;
        var index = 0;
        
        function iniciar(){
            var div1 = crearNodo('div', document.body, 'div1', '');
            var div2 = crearNodo('div', document.body, 'div2', '');
            var img = crearNodo('img', div1, 'drag1', '');
            img.setAttribute('src', 'Willyrex.png');
            img.setAttribute('width', '88');
            img.setAttribute('height', '31');

            p = crearNodo('p', document.body, 'info', '')
            p.style.clear = 'left';

            div1.addEventListener("click", preventDef);
            div1.addEventListener("drop", drop);
            div1.addEventListener("dragover", allowDrop);
            
            div2.addEventListener("click", preventDef);
            div2.addEventListener("drop", drop);
            div2.addEventListener("dragover", allowDrop);

            img.addEventListener("click", preventDef);
            img.addEventListener("drag", drag);
            img.addEventListener("dragend", dragEnd);
            img.addEventListener("dragenter", dragEnter);
            img.addEventListener("dragleave", dragLeave);
            img.addEventListener("dragover", dragOver);
            img.addEventListener("dragstart", dragStart);
        }
                
        function preventDef(ev){
            console.log('se dispara el evento "click" --> preventDef\n-->' + ev.type);
            ev.preventDefault();
            p.innerHTML = 'se dispara el evento "click" --> preventDef';
        }

        function allowDrop(ev) {
            console.log('se dispara el evento "dragover" -> allowDrop\n-->' + ev.type);
            ev.preventDefault();
            p.innerHTML = 'se dispara el evento "dragover" --> allowDrop';
        }

        function drag(ev) {
            console.log('se dispara el evento "drag" -> drag\n-->' + ev.type);
            ev.dataTransfer.setData("text", ev.target.id);
            p.innerHTML = 'se dispara el evento "drag" --> drag';
        }

        function dragEnd(ev){
            console.log('se dispara el evento "dragend" -> dragEnd\n-->' + ev.type);
            ev.dataTransfer.setData("text", ev.target.id);
            p.innerHTML = 'se dispara el evento "dragend" --> dragEnd';
        }

        function dragEnter(ev){
            console.log('se dispara el evento "dragenter" -> dragEnter\n-->' + ev.type);
            ev.dataTransfer.setData("text", ev.target.id);
            p.innerHTML = 'se dispara el evento "dragenter" --> dragEnter';
        }

        function dragLeave(ev){
            console.log('se dispara el evento "dragleave" -> dragLeave\n-->' + ev.type);
            ev.dataTransfer.setData("text", ev.target.id);
            p.innerHTML = 'se dispara el evento "dragleave" --> dragLeave';
        }

        function dragOver(ev){
            console.log('se dispara el evento "dragover" -> dragOver\n-->' + ev.type);
            ev.dataTransfer.setData("text", ev.target.id);
            p.innerHTML = 'se dispara el evento "dragleave" --> dragLeave';
        }

        function dragStart(ev){
            console.log('se dispara el evento "dragstart" -> dragStart\n-->' + ev.type);
            ev.dataTransfer.setData("text", ev.target.id);
            p.innerHTML = 'se dispara el evento "dragstart" --> dragStart';
        }

        function drop(ev) {
            console.log('se dispara el evento "drop" -> drop');
            ev.preventDefault();
            var data = ev.dataTransfer.getData("text");
            p.innerHTML = 'se dispara el evento "drop" --> drop';
            try{
                ev.target.appendChild(document.getElementById(data));
            } catch(err){
                // p.innerHTML = '*** La imagen se ha devuelto a su posición inicial.';
                console.log(' *** La imagen se ha devuelto a su posición inicial.');
            }
        }

        function crearNodo(tipo, padre, id, clase){
            var nodo = document.createElement(tipo);
            if(id != ''){nodo.id = id;}
            if(clase != ''){nodo.className = clase;}
            padre.appendChild(nodo);
            return nodo;
        }

        window.onload = iniciar;
    </script>
</head>

<body>
    <!-- Referencia: W3SCHOOLS 
        <div id="div1" ondrop="drop(event)" ondragover="allowDrop(event)">
            <img src="imagen.png" draggable="true" ondragstart="drag(event)" id="drag1" width="88" height="31">
        </div>
        <div id="div2" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
    -->
</body>

</html>